<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adjustable Website</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #fddbb9; /* light orange background */
            font-family: Arial, sans-serif; /* default font */
        }
        #headingContainer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        #heading {
            font-size: 3em;
        }
        #headingInput {
            display: none;
            border: none;
            background: none;
            font-size: 3em;
            text-align: center;
            width: auto;
            color: inherit; /* Inherit color from parent */
            font-family: inherit; /* Inherit font family from parent */
        }
        #settingsBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: block; /* Change display to block */
            cursor: pointer;
            z-index: 9999; /* Ensure it's on top */
        }
        #settingsPanel {
            position: absolute;
            bottom: 70px; /* Adjusted position */
            right: 30px; /* Adjusted position */
            padding: 20px;
            background-color: white;
            border: 2px solid #333;
            display: none;
            z-index: 9998; /* Ensure it's below settingsBtn */
        }
        #fontSizeLabel {
            display: block;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div id="headingContainer">
        <h1 id="heading">Adjustable Website</h1>
        <input type="text" id="headingInput" value="Adjustable Website">
    </div>

    <div id="settingsBtn">&#9881;</div>

    <div id="settingsPanel">
        <label for="bgColor">Background Color:</label>
        <input type="color" id="bgColor" value="#ffffff"><br><br>
        <label for="fontColor">Font Color:</label>
        <input type="color" id="fontColor" value="#000000"><br><br>
        <label id="fontSizeLabel" for="fontSize">Font Size: <span id="fontSizeValue">12</span>px</label>
        <input type="range" id="fontSize" min="12" max="48" step="1" value="12"><br><br>
        <label for="fontFamily">Font Family:</label>
        <select id="fontFamily">
            <option value="Arial, sans-serif">Arial</option>
            <option value="Times New Roman, serif">Times New Roman</option>
            <option value="Verdana, sans-serif">Verdana</option>
        </select><br><br>
    </div>

    <script>
        function showSettings(event) {
            event.stopPropagation();
            document.getElementById("settingsPanel").style.display = "block";
        }

        function updateWebsite() {
            var bgColor = document.getElementById("bgColor").value;
            var fontColor = document.getElementById("fontColor").value;
            var fontSize = document.getElementById("fontSize").value + "px";
            var fontFamily = document.getElementById("fontFamily").value;

            document.body.style.backgroundColor = bgColor;
            document.body.style.color = fontColor;
            document.getElementById("heading").style.fontSize = fontSize;
            document.getElementById("heading").style.fontFamily = fontFamily;
        }

        function toggleEdit() {
            var heading = document.getElementById("heading");
            var headingInput = document.getElementById("headingInput");
            if (heading.style.display === "none") {
                heading.style.display = "block";
                headingInput.style.display = "none";
                heading.textContent = headingInput.value;
            } else {
                heading.style.display = "none";
                headingInput.style.display = "block";
                headingInput.value = heading.textContent;
                headingInput.focus();
            }
            // Update font style of input to match header
            var computedStyle = window.getComputedStyle(heading);
            headingInput.style.fontSize = computedStyle.fontSize;
            headingInput.style.fontFamily = computedStyle.fontFamily;
            headingInput.style.color = computedStyle.color;
        }

        function hideSettings() {
            document.getElementById("settingsPanel").style.display = "none";
        }

        document.getElementById("settingsBtn").addEventListener("click", showSettings);

        // Update website on input changes
        document.getElementById("bgColor").addEventListener("input", updateWebsite);
        document.getElementById("fontColor").addEventListener("input", updateWebsite);
        document.getElementById("fontSize").addEventListener("input", updateWebsite);
        document.getElementById("fontFamily").addEventListener("change", updateWebsite);

        // Close settings panel when clicking anywhere else on the website
        document.body.addEventListener("click", function(event) {
            if (!event.target.closest("#settingsPanel") && event.target.id !== "settingsBtn") {
                hideSettings();
            }
        });

        // Prevent settings panel from closing when interacting with the color pickers or dropdowns
        document.getElementById("bgColor").addEventListener("click", function(event) {
            event.stopPropagation();
        });

        document.getElementById("fontColor").addEventListener("click", function(event) {
            event.stopPropagation();
        });

        document.getElementById("fontFamily").addEventListener("click", function(event) {
            event.stopPropagation();
        });

        // Toggle between editable header and normal header when clicking on the heading
        document.getElementById("headingContainer").addEventListener("click", toggleEdit);
        document.getElementById("headingInput").addEventListener("blur", toggleEdit);
        document.getElementById("headingInput").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                toggleEdit();
            }
        });
        
        // Close settings panel when clicking on the background
        document.body.addEventListener("click", function(event) {
            if (event.target.id !== "settingsPanel" && event.target.id !== "settingsBtn" && event.target.id !== "headingContainer" && event.target.id !== "heading" && event.target.id !== "headingInput") {
                hideSettings();
            }
        });
    </script>
</body>
</html>
